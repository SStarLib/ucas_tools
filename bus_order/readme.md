# 国科大bus预定说明 #
## 一、使用方法 ##
本程序能够实现全自动预定配置的班车线路，如果出现了问题，会把错误信息发送到指定接受人的微信上面，成功就会把班车信息和付款码发送到指定接收人的微信。在运行本程序的时候，会弹出微信二维码，扫描登录之后即可实现微信通知的功能

修改private.txt后，在控制台执行
- python main.py

### config文件说明
config.txt中，各行表示意义如下：

1. 第一行为登录选课系统的账号
2. 第二行为密码
3. 第三行为chromedriver的路径（默认在当前运行目录，**请不要修改**）
4. 第四行为接受付款码的微信号码，注意是**备注名或者昵称**
5. 第五行为开始抢班车的时间和最多能够预约多少天的，格式固定请不要随便更改格式（每天的18点，最多预约3天的，也就是说星期二下午6点之后可以预约星期五的，这个暂时是固定的，**请不要修改**）
6. 第六行及以后每一行为需要预定的班车时间和班车车次

如下面的为选择2017-09-16 玉泉路—雁栖湖10:00（周末）的班车

```
2017-09-16 玉泉路—雁栖湖10:00（周末）
2017-09-24 雁栖湖—玉泉路7:20（周末）
2017-09-27 玉泉路—雁栖湖10:00
```

### 注意 ###
1. 运行程序需要扫描登录微信
2. 周六周天的班车车次末尾都有“（周末）”这四个字符，其他的和平时无异
3. 班车车次一定要按照日期排布，比如24号的车一定要写在23号后面，同一天的车次无所谓顺序
4. 由于目前不能实现微信自己向自己发送消息，所以暂时都是填写一个信息的接收人，所有的信息都会向这个信息的接收人发送，信息也会被被同步到手机上面的微信



## 二、环境说明

- python 3.6
- selenium

### 环境安装方法
- pip install itchat
- pip install -U selenium

- ~~需要下载selenium的谷歌驱动，下载地址为：https://sites.google.com/a/chromium.org/chromedriver/~~
  - selenium的驱动不需要安装，只需要指定路径就行
    - windows下安装：解压下载的chromedriver_win32.zip，然后在配置文件修改chromedriver.exe路径
    - Linux/Mac 和windows是一样的，注意下载对用的版本


## 更新说明
版本号 1.1
- 修复了一些情况下面崩溃的问题
- 支持使用用户的微信昵称
- 允许预定时间和天数的修改

版本号 1.0
- 修复chrome驱动问题，用户需要再单独安装驱动
- 提升用户体验
- 支持发送付款码到微信
